Introduction
Node js is a Runtime environment for javascript.
Basically google use v8 engine to execute js code so node js is basically a mixture of v8 and C++, there are few things 
which has been removed like dom manipulations like alert etc.
We can run a node js file by using node filename.
while starting a project we should use npm- node package module.
npm init which will create a package.json file which will have all the configurations.
npm is basically used to manage all the packages in our package like installing and uninstalling packages.

Modules in node js
There are varous modules like build in modules like http,fs which we can use in our js file using require function.
If we create a custom module we need to export that module so that it can become public and can be used in other places.

Math.js
function add(a,b){
	return a+b;
}
Module.exports = {add,sub,};--for multiple functions
exports.add = (a,b)=> a+b;

Execute.js
const math= require('./math');
console.log("math value is:",add(2,4));

Example:
var http = require('http');
var dt = require('./firstmodule');---./ current directory

http.createServer(function (req, res) {
  res.writeHead(200, {'Content-Type': 'text/html'});
  res.write("The date and time are currently: " + dt.myDateTime());
  res.end();
}).listen(8080);

Files handling in node.js
const fs = require("fs");

//sync
fs.writefilesync("/test.txt","Hello world");
//async
fs.writefile("/test.txt","Hello world",(err,result)=>{
	if(err){
	console.log(err);
	}else{
	console.log(result);
	}
});

we are having readfile and readfileasync to read the content of file we need to pass the filename and encoding type
cpasync, appendfile, unlink etc.

Architecture of Node js
The user requests some operations on the server then the requests are go in events queue , there is an event
loop which iterates over the queue and execute the event uses FIFO, the events/operations are basically two types 
one is blocking sync and non blocking async, if they are simple/non blocking then they get executed by the main thread, if they 
are blocking then they get executed by the event threads, they are basically 4 event threads but they depend on your cpu.

Creating your own server in node js
first we want to import the http module using require func.
then we will create a myserver object where we will have req,res handler function and the thing we need to perform.
here we create creating a server and logged in a text file
const http = require("http");
const fs = require("fs");


const myServer = http.createServer((req,res) => {
    const log = `${Date.now()}: ${req.url} New req received\n`
    fs.appendFile("log.txt",log,(err,data) => {
        res.end("hello from server");
    });
    
});

myServer.listen('8000',() => console.log("server started"));

Handling URLs in Node js
Url - uniform resource locater
http, https -protocol  https-hypertext transfer protocol secure uses ssl certificate and is more secure.
then comes domain like google.comwt
then path like /about nested path like /about/javascript
query string parameters like /about?name=prakash&userid=101

example 
const http = require("http");
const fs = require("fs");
const url = require("url");

const myServer = http.createServer((req,res) => {
    const log = `${Date.now()}: ${req.url} New req received\n`
    const myUrl = url.parse(req.url,true);
    console.log(myUrl);
    fs.appendFile("log.txt",log,(err,data) => {
        switch(myUrl.pathname){
            case "/":
                res.end("Hii jp homepage");
                break;
            case "/about":
                const qp = myUrl.query.name;
                res.end(`hi, ${qp}`);
            default:
                res.end("404 not found");
        }
    });

    
});

myServer.listen('8000',() => console.log("server started"));

HTTP methods
Get,post,put,delete,patch




 


